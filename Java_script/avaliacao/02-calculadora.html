<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
</head>

<style>
    body{
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: rgb(188, 128, 245);
    font-family: Arial, Helvetica;
    margin: 0;
    padding: 20px;
    box-sizing: border-box;
    }
    #titulo{
        text-align: center;
        margin-bottom: 20px;
        color: rgb(255, 255, 255);
        font-family: 'Franklin Gothic Medium', sans-serif;
        font-size: 25px;
    
    }
    .calculadora{
        border: 4px solid #ff60f2dd;
        border-radius: 10px;
        padding: 20px;
        background-color: rgb(255, 218, 218);
        width: 300px;
    }
    .display{
        width: 100%;
        height: 50px;
        background-color: rgb(209, 255, 251);
        border: 2px solid #c4c3c3;
        border-radius: 5px; 
        font-size: 24px;
        text-align: right;
        padding: 0 10px;
        margin-bottom: 15px;
        box-sizing: border-box;
    }
    .botoes{
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
    }
    button{
        height: 50px;
            font-size: 18px;
            border: 2px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
            background-color: white;
    }
    button:hover{
        background-color: #fdf5f5;
    }
    .numero{
        background-color: rgb(219, 140, 255);
    }
    .operador{
        background-color: rgb(247, 240, 120);
    }
    .igual{
        background-color: rgb(255, 158, 250);
    }
    .limpar{
        background-color: rgb(255, 166, 166);
    }
</style>
<body>
    <h2 id="titulo">Calculadora Online</h2>

    <div class="calculadora">
   <div class="display" id="display">0</div>
   <div class="botoes" id="botoes">
         <button class="numero" id="zero">0</button>
         <button class="numero" id="um">1</button>
         <button class="numero" id="dois">2</button>
         <button class="numero" id="tres">3</button>
         <button class="numero" id="quatro">4</button>
         <button class="numero" id="cinco">5</button>
         <button class="numero" id="seis">6</button>
         <button class="numero" id="sete">7</button>
         <button class="numero" id="oito">8</button>
         <button class="numero" id="nove">9</button>

         <button class="operador" id="soma">+</button>
         <button class="operador" id="subtracao">-</button>
         <button class="operador" id="divisao">/</button>
         <button class="operador" id="multiplicacao">*</button>
         <button class="operador" id="ponto">.</button>
         <button class="operador"  id="limpar">C</button>
         <button class="operador" id="igual">=</button>
   </div>
    </div>

    <script>
         let displayValor = "0";
        let primeiroNumero = null; /*guarda o primeiro número da operação*/
        let operador = null;
        let aguardandoSegundoNumero = false;

        const display = document.getElementById('display');

        function atualizarDisplay() {
        let expressao = "";
        if (primeiroNumero !== null && operador) {
            expressao = primeiroNumero + " " + operador + " " + displayValor;
        } else {
            expressao = displayValor;
        }/* mostra a expressão completa no display  caso operação esteja em andamento*/
        display.textContent = expressao;
        } /*atualiza o display com o valor atual*/
        
        function adicionarNumero(numero) {
            if (aguardandoSegundoNumero) {
                displayValor = numero;
                aguardandoSegundoNumero = false;
            } else {
                displayValor = displayValor === '0' ? numero : displayValor + numero;
            } /*aguardando o segundo número da operação, se não concatena com o que ja tem*/
            atualizarDisplay();
        }

        function adicionarPonto() {
            if (aguardandoSegundoNumero) {
                displayValor = '0.';
                aguardandoSegundoNumero = false;
            } else if (!displayValor.includes('.')) {
                displayValor += '.';
            } /*adiciona um ponto decimal*/
            atualizarDisplay();
        }

        function adicionarOperador(operadorSelecionado) {
            const valorInput = parseFloat(displayValor); /*converte o valor do display para número*/
            
            if (primeiroNumero === null) {
                primeiroNumero = valorInput; /*amazena, se 1° num*/
            } else if (operador) {
                const resultado = calcularResultado();
                displayValor = String(resultado);
                primeiroNumero = resultado;/*dar o resulta, se tiver em andamento*/
            }
            
            operador = operadorSelecionado;
            aguardandoSegundoNumero = true;
            atualizarDisplay();
        }

        function calcularResultado() {
            const segundoNumero = parseFloat(displayValor); /*converte o valor do 2° num*/
            
            if (operador === '+') {
                return primeiroNumero + segundoNumero;
            } else if (operador === '-') {
                return primeiroNumero - segundoNumero;
            } else if (operador === '*') {
                return primeiroNumero * segundoNumero;
            } else if (operador === '/') {
                if (segundoNumero === 0) {
                    alert("Não pode dividir por zero!");
                    return primeiroNumero;
                } /*===igualdade estrita*/
                return primeiroNumero / segundoNumero;
            }
            
            return segundoNumero;
        }

        function calcular() {
            if (operador && primeiroNumero !== null) {
                const resultado = calcularResultado();
                displayValor = String(resultado);
                primeiroNumero = null;
                operador = null;
                aguardandoSegundoNumero = false;
                atualizarDisplay();
            }
        }

        function limparTudo() {
            displayValor = '0';
            primeiroNumero = null;
            operador = null;
            aguardandoSegundoNumero = false;
            atualizarDisplay();
        }

       
        document.getElementById('zero').addEventListener('click', function() {
            adicionarNumero('0');
        });
        document.getElementById('um').addEventListener('click', function() {
            adicionarNumero('1');
        });
        document.getElementById('dois').addEventListener('click', function() {
            adicionarNumero('2');
        });
        document.getElementById('tres').addEventListener('click', function() {
            adicionarNumero('3');
        });
        document.getElementById('quatro').addEventListener('click', function() {
            adicionarNumero('4');
        });
        document.getElementById('cinco').addEventListener('click', function() {
            adicionarNumero('5');
        });
        document.getElementById('seis').addEventListener('click', function() {
            adicionarNumero('6');
        });
        document.getElementById('sete').addEventListener('click', function() {
            adicionarNumero('7');
        });
        document.getElementById('oito').addEventListener('click', function() {
            adicionarNumero('8');
        });
        document.getElementById('nove').addEventListener('click', function() {
            adicionarNumero('9');
        });

        document.getElementById('soma').addEventListener('click', function() {
            adicionarOperador('+');
        });
        document.getElementById('subtracao').addEventListener('click', function() {
            adicionarOperador('-');
        });
        document.getElementById('divisao').addEventListener('click', function() {
            adicionarOperador('/');
        });
        document.getElementById('multiplicacao').addEventListener('click', function() {
            adicionarOperador('*');
        });
        document.getElementById('ponto').addEventListener('click', adicionarPonto);
        document.getElementById('limpar').addEventListener('click', limparTudo);
        document.getElementById('igual').addEventListener('click', calcular);
       
        atualizarDisplay(); 
    </script>

</body>
</html>